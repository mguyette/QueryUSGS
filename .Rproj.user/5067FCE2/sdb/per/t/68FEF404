{
    "collab_server" : "",
    "contents" : "#=======================================================================#\n## This script generates csv files of USGS data based on the user's    ##\n## specifications below.  Please make changes to the lines shown below ##\n## (frequency, siteNumbers, parameterCd, startDate, endDate, statCd,   ##\n## tz, and path).                                                      ##\n## Author: Margaret Guyette             Date: January 9, 2018          ##\n#=======================================================================#\n\n## Frequency\n## Select \"daily\" (daily summaries), \"instantaneous\" (whichever frequency \n## the data is collected), or \"daily\",\"instantaneous\"\n## Must be in quotes\nfrequency <- c(\"daily\",\"instantaneous\") # Frequency ####\n\n## USGS site(s)\n## For one station, place inside quotes within the parentheses below\n##     e.g., siteNumbers <- c(\"02232500\")\n## For more than one station, place inside quotes separated by commas within the\n## parentheses below\n##     e.g., siteNumbers <- c(\"02232500\",\"02232400\",\"02234000\")\nsiteNumbers <- c(\"02232500\",\"02232400\",\"02234000\") # USGS Site Numbers ####\n\n## Parameter(s)\n## For one parameter code, place inside quotes within the parentheses below\n##     e.g., parameterCd <- c(\"00065\")\n## For more than one parameter code, place inside quotes separated by commas \n## within the parentheses below\n##     e.g., parameterCd <- c(\"00060\",\"00065\")\n## Common parameter codes include:\n##     00060 - Discharge, cubic feet per second\n##     00065 - Gage height, feet\n##     63130 - Stream water level elevation above NAVD 1988, in feet\n## For more parameter codes you can uncomment the line below to view\n## a searchable data table of all USGS parameter codes\n# View(parameterCdFile)\n## Or you can search for parameter codes at the website:\n## https://nwis.waterdata.usgs.gov/nwis/pmcodes/\nparameterCd <- c(\"63130\") # USGS Parameter Codes ####\n\n## Start date\n## May be left blank to retrieve the entire period of record\n## (may take a long time if you ask for the entire record)\n## Must be formatted as \"YYYY-MM-DD\"\nstartDate <- \"2017-10-10\" # Start Date ####\n\n## End date\n## May be left blank to retrieve the entire period of record\n## (may take a long time if you ask for the entire record)\n## Must be formatted as \"YYYY-MM-DD\"\nendDate <- \"2017-11-10\" # End Date ####\n\n## Statistic code\n## Only used for daily summaries\n## You can only select a single statistic code for any given query\n## Place inside quotes within the parentheses below\n##     e.g., statCd <- c(\"00003\")\n## Common stat codes include:\n##     00001 - Maximum\n##     00002 - Minimum\n##     00003 - Mean\n##     00006 - Sum\n##     00008 - Median\nstatCd <- c(\"00003\") # Statistic code ####\n    \n## Time Zone\n## Change only if you prefer to show a different time zone\n## If you are interested in EST, use \"EST\"\n## If you are interested in EDT, use \"America/New_York\"\ntz <- \"EST\" # Time Zone ####\n\n## Export Path\n## The path to the folder to which you would like to download \n## output files\npath <- \"./Exports\" # Export path ####\n\n#==========================================================#\n## DO NOT MAKE MODIFICATIONS TO ANYTHING BELOW THIS POINT ##\n#==========================================================#\n\n## Required packages\nlibrary(dataRetrieval)\n\n## Function to query USGS\ngetUSGSdata <- function(frequency,siteNumbers,parameterCd,\n                        startDate,endDate,statCd,tz,path) {\n    ## Create a file prefix that includes all site numbers to be used in\n    ## the file name\n    filePrefix <- paste(siteNumbers,collapse = \"_\",sep = \"\")\n    ## If daily values are requested\n    if(\"daily\" %in% frequency) {\n        ## Query NWIS\n        dvData <- readNWISdv(siteNumbers,parameterCd,startDate,endDate,statCd)\n        ## Rename columns, changing parameter codes to text\n        dvData <- renameNWISColumns(dvData)\n        ## Write the data to a csv file\n        write.csv(dvData,paste(path,\"/\",filePrefix,\"_daily_\",Sys.Date(),\".csv\",sep = \"\"),\n                  row.names = F, na = \"\")\n    }\n    ## If instantaneous values are requested\n    if(\"instantaneous\" %in% frequency) {\n        ## Query NWIS\n        uvData <- readNWISuv(siteNumbers,parameterCd,startDate,endDate,tz)\n        ## Rename columns, changing parameter codes to text\n        uvData <- renameNWISColumns(uvData)\n        ## Write the data to a csv file\n        write.csv(uvData,paste(path,\"/\",filePrefix,\"_inst_\",Sys.Date(),\".csv\",sep = \"\"),\n                  row.names = F, na = \"\")\n    }\n}\n\n## Run the function\ngetUSGSdata(frequency,siteNumbers,parameterCd,startDate,endDate,statCd,tz,path)\n",
    "created" : 1515520140723.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1713055864",
    "id" : "68FEF404",
    "lastKnownWriteTime" : 1515614115,
    "last_content_update" : 1515614115657,
    "path" : "C:/Users/mguyette/OneDrive - St. Johns River Water Management District/R/Special_Requests/QueryUSGS/Scripts/USGSDataRetrieval.R",
    "project_path" : "Scripts/USGSDataRetrieval.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}